[gd_scene load_steps=20 format=2]

[ext_resource path="res://GameLoop.gd" type="Script" id=1]
[ext_resource path="res://TileSets/BasicTileset.tres" type="TileSet" id=2]
[ext_resource path="res://NavigationMap.gd" type="Script" id=3]
[ext_resource path="res://Player/Player.tscn" type="PackedScene" id=4]
[ext_resource path="res://FeatureManager.gd" type="Script" id=5]
[ext_resource path="res://Sprites/bookcase-front.png" type="Texture" id=6]
[ext_resource path="res://Sprites/chest-closed-front.png" type="Texture" id=7]
[ext_resource path="res://Sprites/chest-of-drawers-front.png" type="Texture" id=8]
[ext_resource path="res://Sprites/wardrobe-front.png" type="Texture" id=9]
[ext_resource path="res://Sprites/door-front.png" type="Texture" id=10]
[ext_resource path="res://Sprites/stairs-side-1.png" type="Texture" id=11]
[ext_resource path="res://Features/Door.tscn" type="PackedScene" id=12]
[ext_resource path="res://Features/Lever.tscn" type="PackedScene" id=13]
[ext_resource path="res://ItemManager.gd" type="Script" id=14]
[ext_resource path="res://EnemyManager.gd" type="Script" id=15]
[ext_resource path="res://UI/UI.tscn" type="PackedScene" id=16]
[ext_resource path="res://Themes/Themes.tres" type="Theme" id=17]
[ext_resource path="res://Themes/DefaultFont.tres" type="DynamicFont" id=18]
[ext_resource path="res://Audio/Music/The_Liar_Wizzard_OG_1.ogg" type="AudioStream" id=19]

[node name="GameScene" type="Node2D"]
script = ExtResource( 1 )

[node name="GameWorld" type="TileMap" parent="."]
tile_set = ExtResource( 2 )
cell_size = Vector2( 32, 32 )
format = 1
tile_data = PoolIntArray( -131075, 0, 196611, -131074, 0, 327684, -131073, 0, 327684, -196608, 0, 327684, -196607, 0, 196612, -196606, 0, 196612, -196605, 0, 196612, -196604, 0, 327684, -196603, 0, 196612, -196602, 0, 196613, -65539, 0, 262147, -131066, 0, 262149, -3, 0, 655360, -2, 0, 1, -1, 0, 1, -65536, 0, 1, -65535, 0, 1, -65534, 0, 1, -65533, 0, 2, -65530, 0, 262149, 65533, 0, 65536, 65534, 0, 65537, 65535, 0, 65537, 0, 0, 65537, 1, 0, 65537, 2, 0, 65537, 3, 0, 65538, 5, 0, 0, 6, 0, 262145, 7, 0, 2, 131069, 0, 131072, 131070, 0, 131073, 131071, 0, 131073, 65536, 0, 131073, 65537, 0, 131073, 65538, 0, 131073, 65539, 0, 131074, 65541, 0, 65536, 65542, 0, 65537, 65543, 0, 65538, 131077, 0, 131072, 131078, 0, 131073, 131079, 0, 131074 )
script = ExtResource( 3 )

[node name="Player" parent="." instance=ExtResource( 4 )]
debug = true

[node name="Features" type="Node2D" parent="."]
script = ExtResource( 5 )
sprites = [ ExtResource( 6 ), ExtResource( 7 ), ExtResource( 8 ), ExtResource( 9 ), ExtResource( 10 ), ExtResource( 11 ) ]

[node name="Door1" parent="Features" instance=ExtResource( 12 )]
position = Vector2( -64, -96 )

[node name="Door2" parent="Features" instance=ExtResource( 12 )]
position = Vector2( 0, -96 )

[node name="Door3" parent="Features" instance=ExtResource( 12 )]
position = Vector2( 64, -96 )

[node name="Lever1" parent="Features" instance=ExtResource( 13 )]
position = Vector2( -64, -32 )
toggled_items = [ "/root/GameScene/Features/Door1", "/root/GameScene/Features/Door3" ]
down = true

[node name="Lever2" parent="Features" instance=ExtResource( 13 )]
position = Vector2( -32, -32 )
toggled_items = [ "/root/GameScene/Features/Door2", "/root/GameScene/Features/Door3" ]

[node name="Lever3" parent="Features" instance=ExtResource( 13 )]
position = Vector2( 0, -32 )
toggled_items = [ "/root/GameScene/Features/Door1", "/root/GameScene/Features/Door2" ]
down = true

[node name="Lever4" parent="Features" instance=ExtResource( 13 )]
position = Vector2( 32, -32 )
toggled_items = [ "/root/GameScene/Features/Door1", "/root/GameScene/Features/Door2", "/root/GameScene/Features/Door3" ]
down = true

[node name="Items" type="Node2D" parent="."]
script = ExtResource( 14 )

[node name="Enemies" type="Node2D" parent="."]
script = ExtResource( 15 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="UI" parent="CanvasLayer" instance=ExtResource( 16 )]
visible = false

[node name="GameOver" type="ColorRect" parent="CanvasLayer"]
editor/display_folded = true
visible = false
anchor_right = 1.0
anchor_bottom = 1.0
color = Color( 0, 0, 0, 1 )

[node name="Label" type="Label" parent="CanvasLayer/GameOver"]
anchor_right = 1.0
anchor_bottom = 1.0
theme = ExtResource( 17 )
custom_fonts/font = ExtResource( 18 )
text = "YOU DIED"
align = 1
valign = 1

[node name="Song" type="AudioStreamPlayer" parent="."]
stream = ExtResource( 19 )
autoplay = true
